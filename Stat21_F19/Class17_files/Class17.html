<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>Class 17</title>
    <meta charset="utf-8" />
    <meta name="author" content="Suzanne Thornton" />
    <link href="Class17_files/remark-css/default.css" rel="stylesheet" />
    <link href="Class17_files/remark-css/default-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Class 17
## STAT 021
### Suzanne Thornton
### Swarthmore College
### 2019/10/11 (updated: 2019-11-20)

---




&lt;style type="text/css"&gt;
pre {
  background: #FFBB33;
  max-width: 100%;
  overflow-x: scroll;
}

.scroll-output {
  height: 70%;
  overflow-y: scroll;
}
   
.red{color: #ce151e;}
.green{color: #26b421;}
.blue{color: #426EF0;}
&lt;/style&gt;


&lt;img src="Figs/grades.png" width="452" height="500" style="display: block; margin: auto;" /&gt;

---
## Breif detour to some review material...
### Chi square test for independence  

As you may have seen in your previous stat classes, a chi squared test is useful when we are interested in determining if a relationship exists between two difference categorical variables. (Note that this is **different** from ANOVA methods because in ANOVA, we are interested in exploring a relationship between a categorical predictor variable and a numerical response variable!)


--
**Method of analysis:** Draw a table with the values of the first categorical variable representing rows and values of the other categorical variables representing columns. Thus each cell entry represents a number of counts and we want to compare the observed counts to the counts expected under the null hypothesis. 


.center[ `\(H_0:\)` The two categorical variables are independent/not related.


`\(H_1:\)` The two categorical variables are dependent.]


--
**Interpretation:** Under `\(H_0\)` we wouldn't expect the amount of observations in a particular column to have any effect whatsoever on the amount of observations in a particular row. 


---
## Chi square test for independence  
### Star Trek example


In Star Trek, the crew members wear different colored uniforms to identify their respective work areas. Fans of the show are well aware that those who wear red shirts have the unfortunate reputation of dying more often that those who wear gold or blue shirts.


Shirt color | Number of people | Fatalities
------------|------------------|-----------
Blue        | 136              | 7
Gold        | 55               | 9   
Red         | 239              | 24
Total       | 430              | 40



.footnote[This example brought to you by: https://statisticsbyjim.com/hypothesis-testing/chi-square-test-independence-example/] 


---
## Chi square test for independence  
### Star Trek example
.scroll-output[

```r
##Here I am creating our data set
shirt_color &lt;- c(rep("Blue", 136), rep("Gold", 55), rep("Red", 239))
trekkies_live &lt;- c(rep("yes",136-7), rep("no", 7), rep("yes", 55-9), rep("no", 9),
          rep("yes", 239-24), rep("no",24))
star_trek_data &lt;- bind_cols(shirt_color = fct_infreq(shirt_color), alive = fct_infreq(trekkies_live))

##Let's double check to make sure the data adds up to match the table on the previous slide
star_trek_data %&gt;% count(shirt_color, alive) 
```

```
## # A tibble: 6 x 3
##   shirt_color alive     n
##   &lt;fct&gt;       &lt;fct&gt; &lt;int&gt;
## 1 Red         yes     215
## 2 Red         no       24
## 3 Blue        yes     129
## 4 Blue        no        7
## 5 Gold        yes      46
## 6 Gold        no        9
```

```r
##Now let's conduct the chi squared test on the data above
chisq.test(star_trek_data$shirt_color, star_trek_data$alive)
```

```
## 
## 	Pearson's Chi-squared test
## 
## data:  star_trek_data$shirt_color and star_trek_data$alive
## X-squared = 6.1886, df = 2, p-value = 0.04531
```
]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9",
"navigation": {
"scroll": false
}
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
