---
title: "Class 3"
subtitle: "Agenda for in-class discussion"
author: "STAT 021 with Suzanne Thornton"
institute: "Swarthmore College"
date: "For class on Tuesday, Sept 15, 2020 (updated: `r Sys.Date()`)"
output:
  xaringan::moon_reader:
 #   css: ["default", "assets/sydney-fonts.css", "assets/sydney.css"]
    self_contained: false # if true, fonts will be stored locally
#    includes:
 #     in_header: "assets/mathjax-equation-numbers.html"
    nature:
#      beforeInit: ["assets/remark-zoom.js", "https://platform.twitter.com/widgets.js"]
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      ratio: '16:9' # alternatives '16:9' or '4:3' or others e.g. 13:9
      navigation:
        scroll: false # disable slide transitions by scrolling
includes:
  in_header: mystyles.sty
---

```{r setup_pres, include=FALSE, echo=FALSE}
#devtools::install_github("ropenscilabs/icon")
#devtools::session_info('rmarkdown')

rm(list=ls())
library('tidyverse')
library('gridExtra')
library('broom')
library('cowplot')

library("RefManageR")
library("DT")


#setwd("~/Google Drive Swat/Swat docs/Stat 21/Class13_files")
#setwd("~/Drive/Swat docs/Stat 21/Class9_files")
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(fig.path='Figs/',echo=TRUE, warning=FALSE, message=FALSE)

```


```{css, echo=FALSE}
pre {
  background: #FFBB33;
  max-width: 100%;
  overflow-x: scroll;
}

.scroll-output {
  height: 70%;
  overflow-y: scroll;
}

.scroll-small {
  height: 50%;
  overflow-y: scroll;
}
   
.red{color: #ce151e;}
.green{color: #26b421;}
.blue{color: #426EF0;}
```


# Happy Tuesday!  

Here's the agenda for today's class: 

- Housekeeping items

  - HW 1 due Friday, the 18th by noon ET 
  
  - HW 2 is online, due Thursday, the 24th by noon ET

  - Moodle questions

- Practice problems 1 and 2

  - Use Zoom whiteboard
  
  - Submit screenshot to me via group Slack channel

- R lesson

  - Packages and libraries

  - Making plots in R's `tidyverse` 


---
# Moodle questions

- Why we use $p_0$ in the formula for the Z-score test statistic? 
$$Z.score = \frac{\hat{p}-p_0}{\sqrt{\frac{p_0(1-p_0)}{n}}}$$

- Could you go over the difference between Binomial and Bernoulli distributions?

- Why is it that we reject the null hypothesis when the P-value is larger than the significance level?

- Can we review the assumptions for finding a CI for a population mean?

- Can we review the central limit theorem again? 

- Can you talk a bit about why we use $\mu$ for the t-distribution hypothesis tests and not $p$?

---
# Practice Problem 1
## Inference for a proportion

In New York City on October 23rd, 2014, a doctor who had recently been treating Ebola patients in Guinea went to the hospital with a slight fever and was subsequently diagnosed with Ebola. Soon after, a survey conducted by the Marist Poll, an organization with a carefully designed methodology for drawing random samples from identified populations, found that, out of a sample of size $1042$, $82\%$ of New Yorkers favored a "mandatory 21-day quarantine for anyone who has come in contact with an Ebola patient."


**To do:** 

a) Verify that the sampling distribution of $\hat{p}$ is nearly normal.

b) Construct a $95\%$ confidence interval for $p$, the proportion of New York adults who supported a quarantine for anyone who has come into contact with an Ebola patient. Specifically state the values of $\hat{p}_{obs}$, $z_{\alpha/2}^*$, and $SE(\hat{p})$.  


**Hand in via your group's Slack channel:** 
Screenshot of your group's Zoom whiteboard with your answers to the questions above. 

---
# Practice Problem 2 
## Inference for the difference in proportions

Two types of medication for hives are being tested to determine if there is a difference in the proportions of adult patient reactions. Twenty out of a random sample of 200 adults given medication A still had hives 30 minutes after taking the medication. Twelve out of another random sample of 200 adults given medication B still had hives 30 minutes after taking the medication. 


**To do:**
a) Conduct a hypothesis test at a 1% level of significance. Report the conclusion of the test. 

b) Draw a picture of the p-value on a standard Normal density curve. 


**Hand in via your group's Slack channel:** 
Screenshot of your group's Zoom whiteboard with your answers to the questions above. 


---
# R Lesson 
## Using Packages in R

Using packages in R is like using books in a library while doing your homework. You go to the library to do your homework because it's quiet and there's plenty of table space for you to spread out your work. 

Similarly, you go to RStudio to solve a particular data analysis problem because RStudio has plenty of organized space to clean and investigate data. 

- Installing packages in RStudio is analogous to a physical library stocking their shelves with a particular book.
  
  - You may or may not need to use every book that is stocked on the library's shelves, but you definitely can't use a book that is not stocked on the shelf! 
    
- Calling packages into your RStudio working library (with the `library()` function) is analogous to you picking up a particular book from the shelf and bringing it back to the table where you are working in the physical library. 

  - You only get up to grab a book from the shelf if you really need to use it. 
  
  - Every time you go to the library to work, you have to go to pick up the book from its shelf.

---
# R Lesson 
## Plotting in the `tidyverse`
.scroll-output[
The components for building a plot in the `tidyverse` pack are:

  - the data object (typically a `tibble` or `data.frame`), 
  
  - the plot initialization page (where you reference the data object and orient the axes), and then 
  
  - the plot itself (histogram, density curve, box plot, etc). 


```{r class3plot, echo=TRUE, fig.align='center'}
## Data object (in this example we're looking at miles per hour and number of passengers)
car_data <- tibble(mph = c(22, 35, 20, 25, 24, 20, 34, 31, 30, 32, 33, 25, 29, 24),
                  passengers = c(1, 1, 3, 2, 5, 2, 1, 1, 2, 1, 3, 1, 1, 2)) 
## Plot initialization (aes() stands for aesthetics)
ggplot(car_data, aes(x=passengers, y=mph)) +
## The actual plot (a scatterplot in this example)
         geom_point()
```
]
