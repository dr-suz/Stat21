<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Class 4</title>
    <meta charset="utf-8" />
    <meta name="author" content="Suzanne Thornton" />
    <link href="class4_files/remark-css/default.css" rel="stylesheet" />
    <link href="class4_files/remark-css/default-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Class 4
## Statistical Methods II (Stat 021)
### Suzanne Thornton
### Swarthmore College
### For class on Tuesday, Feb 23, 2021 (updated: 2021-02-23)

---




&lt;style type="text/css"&gt;
pre {
  background: #FFBB33;
  max-width: 100%;
  overflow-x: scroll;
}

.scroll-output {
  height: 60%;
  overflow-y: scroll;
}

.scroll-small {
  height: 30%;
  overflow-y: scroll;
}
   
.red{color: #ce151e;}
.green{color: #26b421;}
.blue{color: #426EF0;}
&lt;/style&gt;


# Agenda

Here's the agenda for today's class: 

- Group check-ins (5 mins)

- HW 1 problem 4 (15 mins)

- Checking assumptions (35 mins)

- Importing and visualizing data (15 mins)

- Housekeeping items and announcements (5 mins)

---
# Tuesday check-in 

- Send me a screenshot of your check-in markers on Slack

- [Fill out the group roles for today's class](https://docs.google.com/spreadsheets/d/1d34JxqXQON6MyIEjN5ugkByCeTuGTTb_ovvPfSAca_g/edit?usp=sharing) 

&lt;img src="Figs/feelings_wheel.jpg" height="500" style="display: block; margin: auto;" /&gt;


---
# HW 1 Problem 4 Discussion
## 1st Interpretation

A basketball player with a `\(65\%\)` shooting percentage has just made `\(6\)` shots in a row. The announcer says this player "is hot tonight! She's in the zone!" Assuming the payer takes about `\(20\)` shots per game, is it unusual for her to make `\(6\)` or more shots in a row during a game? Justify your answer with statistical reasoning. 


**One interpretation:** 

`\(p = \text{probability player makes a single shot} = 0.65\)` 

Each shot is independent of the others so the probability the first six shots are made is `\(0.65^6=0.075\)`. 

---
# HW 1 Problem 4 Discussion
## 1st Interpretation

A basketball player with a `\(65\%\)` shooting percentage has just made `\(6\)` shots in a row. The announcer says this player "is hot tonight! She's in the zone!" Assuming the payer takes about `\(20\)` shots per game, is it unusual for her to make `\(6\)` or more shots in a row during a game? Justify your answer with statistical reasoning. 

You can simulate this answer with the following code: 

```r
sims &lt;- 1000
games &lt;- rep(NA, sims)
for(i in 1:sims){
  if(sum(rbernoulli(n=20, p=0.65)[1:6])==6){games[i]&lt;-1}
  else{games[i] &lt;- 0}
}
mean(games)
```

```
## [1] 0.068
```


---
# HW 1 Problem 4 Discussion
## 2nd Interpretation

A basketball player with a `\(65\%\)` shooting percentage has just made `\(6\)` shots in a row. The announcer says this player "is hot tonight! She's in the zone!" Assuming the payer takes about `\(20\)` shots per game, is it unusual for her to make `\(6\)` or more shots in a row during a game? Justify your answer with statistical reasoning. 


**Another interpretation:** 

In a typical game, the player will make `\(0.65 \times 20 = 13\)` shots. 

How many possible ways are there for this to happen and what proportion of them have the first six shots as successful? 

`$$\frac{14 \choose 7}{20 \choose 13} = 0.0443$$` 

--

```r
choose(14, 7)/choose(20, 13)
```

```
## [1] 0.04427245
```


---
# HW 1 Problem 4 Discussion
## 3rd Interpretation

A basketball player with a `\(65\%\)` shooting percentage has just made `\(6\)` shots in a row. The announcer says this player "is hot tonight! She's in the zone!" Assuming the payer takes about `\(20\)` shots per game, is it unusual for her to make `\(6\)` or more shots in a row during a game? Justify your answer with statistical reasoning. 


**Yet another interpretation:**  

What if the player's confidence changes with each shot she makes and so the probability of subsequent shots being successful increases after making the first six? 


---
# HW 1 Problem 4 Discussion
## 3rd Interpretation

A basketball player with a `\(65\%\)` shooting percentage has just made `\(6\)` shots in a row. The announcer says this player "is hot tonight! She's in the zone!" Assuming the payer takes about `\(20\)` shots per game, is it unusual for her to make `\(6\)` or more shots in a row during a game? Justify your answer with statistical reasoning. 



In this class we are working within the **frequentist** statistical paradigm. This means that when we draw inferential conclusions, e.g. when we make statements about our confidence in how reliable our interval or test conclusion is, we're talking about confidence *in the long run*. 

Another valid statistical paradigm is called **Bayesian** inference. In this framework, when we draw inferential conclusions, we're actually quantifying our certainty about the statement, i.e. our *personal beliefs*. It is possible, in this framework, that 
`$$p = \text{the probability that this player makes any given shot}$$`
is not just a constant single number value, but that it changes depending on previously observed outcomes. 



.footnote[.blue[You don't need to know any of this for your tests or homework, this is just some additional information for your own knowledge!]]

---
# Statistical Assumptions 

Typically, when we collect a *sample* of data and preform a statistical analysis, it is because we wish to understand some underlying property of the *population* as a whole. For all of the methods we will use in this class (and for the most statistical methods in general) this means we always need to assume that 

- The sample is representative of the population and  

  * Sampling strategies 
  
  * Possible sources of bias? 

- The observations within our sample were drawn independently of one another. 

  * 10% Condition (useful when population is relatively small)
  
  * Other sources of dependency?


--
Any time we draw statistical conclusions from a sample of data, the quality of our conclusions depends on the quality of the data. The quality of our conclusions also depends on the appropriateness of any statistical assumptions. 

In real life, there is always going to be subjectivity in drawing statistical conclusions because of this. The American Statistical Association has published some guidelines for ethical statistical practice. 


---
# American Statistical Association
## Guidelines for the Integrity of Data and Methods

.scroll-output[
1. Acknowledges statistical and substantive assumptions made in the execution and interpretation of any analysis. When reporting on the validity of data used, acknowledges data editing procedures, including any imputation and missing data mechanisms.

2. Reports the limitations of statistical inference and possible sources of error.

3. In publications, reports, or testimony, identifies who is responsible for the statistical work if it would not otherwise be apparent.

4. Reports the sources and assessed adequacy of the data, accounts for all data considered in a study, and explains the sample(s) actually used.

5. Clearly and fully reports the steps taken to preserve data integrity and valid results.

6. Where appropriate, addresses potential confounding variables not included in the study.

7. In publications and reports, conveys the findings in ways that are both honest and meaningful to the user/reader. This includes tables, models, and graphics.

8. In publications or testimony, identifies the ultimate financial sponsor of the study, the stated purpose, and the intended use of the study results.

9. When reporting analyses of volunteer data or other data that may not be
representative of a defined population, includes appropriate disclaimers and, if used, appropriate weighting.

10. To aid peer review and replication, shares the data used in the analyses whenever possible/allowable and exercises due caution to protect proprietary and confidential data, including all data that might inappropriately reveal respondent identities.

11. Strives to promptly correct any errors discovered while producing the final report or after publication. As appropriate, disseminates the correction publicly or to others relying on the results.]


---
# Basic Statistical Assumptions 
## The Integrity of Data and Methods - Real Example 

[A mathematician signs an affidavit](http://www.swarthmore.edu/NatSci/sthornt1/Stat021/S2021/miller_affidavit.pdf) - .blue[For this exercise, don't look at the next slide before you complete these questions!]

**With your group** browse through the affidavit and answer the following questions. 

1. What statistical procedure is this mathematician using? 

2. What are the assumptions necessary for his conclusion to be reliable? 

3. What information does this statement provide about how the data was collected? 


.scroll-small[**Group roles:**

- Recorder - Open the affidavit and share your screen with your group. Keep track of your group's answers to the three questions above. When there is 1 min remaining, share your answers with me via a DM on Slack. 

- Reporter - Keep track of your group's progress on the Google spreadsheet and be prepared to discuss your group's answers (or any additional questions) with the class.  

- Questioner - Make sure you *ask at least one* additional question to your group about your responses to the questions above. ]





---
# Basic Statistical Assumptions 
## The Integrity of Data and Methods - Real Example 

Take 5 mins to read through this [statistician's response](https://williamsrecord.com/435109/opinions/a-rebuttal-to-steven-millers-report-on-pa-gop-mail-in-ballot-requests/) to the study. (For those of you who are interested, you can read more about this [here](https://williamsrecord.com/434506/news/professor-of-mathematics-steven-miller-issues-legal-statement-suggesting-ballot-irregularities-in-pa-conclusi).)


.scroll-output[**With your group** discuss the following questions: 

- How would you improve upon this study? 

- What would you do differently? 

- Design a survey that avoids the issues with this one. 


**Group roles:**

- Recorder - Keep track of your group's answers to the three questions above. When there is 1 min remaining, share your answers with me via a DM on Slack. 

- Reporter - Keep track of your group's progress on the Google spreadsheet and be prepared to discuss your group's answers (or any additional questions) with the class.  

- Questioner - Make sure you *ask at least one* additional question to your group about your responses to the questions above. ]



---
# Importing and Visualizing Data

Think of data in terms of a spreadsheet (or matrix) where 

  - Rows are the observations,
  
  - Columns are the different variable names.

.scroll-output[

```r
library("tidyverse") ## We must do this every time we start a new R session. 
## Data object (in this example we're looking at miles per hour and number of passengers)
car_data &lt;- tibble(mph = c(22, 35, 20, 25, 24, 20, 34, 31, 30, 32, 33, 25, 29, 24),
                  passengers = c(1, 1, 3, 2, 5, 2, 1, 1, 2, 1, 3, 1, 1, 2)) 
car_data
```

```
## # A tibble: 14 x 2
##      mph passengers
##    &lt;dbl&gt;      &lt;dbl&gt;
##  1    22          1
##  2    35          1
##  3    20          3
##  4    25          2
##  5    24          5
##  6    20          2
##  7    34          1
##  8    31          1
##  9    30          2
## 10    32          1
## 11    33          3
## 12    25          1
## 13    29          1
## 14    24          2
```

For more on data structures in R see [R cheat sheet 1](http://www.swarthmore.edu/NatSci/sthornt1/Stat021/S2021/
R_cheat_sheet1.pdf) or [R cheat sheet 2](http://www.swarthmore.edu/NatSci/sthornt1/Stat021/S2021/R_cheat_sheet2.pdf).
]



---
# Importing and Visualizing Data
## Plotting in the `tidyverse`

.scroll-output[
The components for building a plot in the `tidyverse` pack are:

  - the data object (typically a `tibble` or `data.frame`), 
  
  - the plot initialization page (where you reference the data object and orient the axes), and then 
  
  - the plot itself (histogram, density curve, box plot, etc). 



```r
## Plot initialization (aes() stands for aesthetics)
ggplot(car_data, aes(x=passengers, y=mph)) +
## The actual plot (a scatterplot in this example)
         geom_point()
```

&lt;img src="Figs/class4plot1-1.png" style="display: block; margin: auto;" /&gt;
]


---
# Importing and Visualizing Data
## Plotting in the `tidyverse`

.scroll-output[

### Adding labels and trimming the axes of a plot. 


```r
## Plot initialization (aes() stands for aesthetics)
ggplot(car_data, aes(x=passengers, y=mph)) +
## The actual plot (a scatterplot in this example)
         geom_point() + 
         ylim(10,40) + xlim(0,6) + 
         labs(title="Scatterplot") + xlab("Number of passengers") + ylab("Miles per hour")
```

&lt;img src="Figs/class4plot2-1.png" style="display: block; margin: auto;" /&gt;
]

---
# Importing and Visualizing Data
## Plotting in the `tidyverse`

.scroll-output[

### For a single quantitative variable, we visualize the values from our sample with a histogram. 


```r
## Plot initialization - we only are interested in the quantitative variable, mph for this plot 
ggplot(car_data, aes(x=mph)) +
## The actual plot - rather than use "geom_point()" we now use a function to create a histogram, we can also specify how many bins to break the histogram into 
         geom_histogram(bins=5) +
         labs(title="Histogram") + 
         xlab("Miles per hour") + 
         ylab("Count")
```

&lt;img src="Figs/class4plot3-1.png" style="display: block; margin: auto;" /&gt;
]

---
# Importing and Visualizing Data
## Plotting in the `tidyverse`

**With your group** create your own `tibble` of a quantitative data set with two different variables. (Make sure you give the variables meaningful names, so not names like "X1" and "X2".) Then create a labeled histogram of one of the quantitative variables and describe the shape of this data. 


**Group roles:**

- Recorder - Log into RStudio and share your screen (make sure your text is large enough for others to read). Copy and past the code from the previous slides and work with your group to complete the task. Take a screenshot of your group's R code and output when there is 1 min remaining and DM it to me on Slack. 

- Reporter - Update your group's progress on the Class Spreadsheet. Pay careful attention to the discussion and be prepared to tell me about any  questions or conclusions your group comes up with. 

- Questioner - Here are some questions if you're stuck on what else you can ask: How would you add another variable to this tibble? Can the two variables be different lengths? What happens if you change the variable bins? What happens when you comment out the xlim and ylim parts? How would you describe the distribution of this data? Are there any outliers? 




---
## Planning ahead for next week

- Complete Week 3 Comprehension Quiz on Moodle by Thursday morning.  

- Next class, we'll be working on problems from HW 2 with a discussion centered around 

  * How to know which procedure to use

  * How to check the required assumptions 

  * The connection between hypothesis tests and confidence intervals

- Contact me ASAP if you are having difficulties with RStudio! 

## Housekeeping 

- Check the announcements channel for participation point opportunities 

- Completeness requires: 

  * R code input and output or calculations to show your steps 
  
  * A written answer interpreting the output and answering the main question 
  * Significance level or confidence level
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9",
"navigation": {
"scroll": false
}
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
