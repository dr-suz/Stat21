---
title: "Class 8"
subtitle: "Statistical Methods II (Stat 021)"
author: "Suzanne Thornton"
institute: "Swarthmore College"
date: "For class on Tuesday, March 9, 2021 (updated: `r Sys.Date()`)"
output:
  xaringan::moon_reader:
 #   css: ["default", "assets/sydney-fonts.css", "assets/sydney.css"]
    self_contained: false # if true, fonts will be stored locally
#    includes:
 #     in_header: "assets/mathjax-equation-numbers.html"
    nature:
#      beforeInit: ["assets/remark-zoom.js", "https://platform.twitter.com/widgets.js"]
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      ratio: '16:9' # alternatives '16:9' or '4:3' or others e.g. 13:9
      navigation:
        scroll: false # disable slide transitions by scrolling
includes:
  in_header: mystyles.sty
---

```{r setup_pres, include=FALSE, echo=FALSE}
#devtools::install_github("ropenscilabs/icon")
#devtools::session_info('rmarkdown')

rm(list=ls())
library('tidyverse')
library('gridExtra')
library('broom')
library('cowplot')
library("RefManageR")
library("DT")

#setwd("~/Google Drive Swat/Swat docs/Stat 21/Class13_files")
#setwd("~/Drive/Swat docs/Stat 21/Class9_files")
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(fig.path='Figs/',echo=TRUE, warning=FALSE, message=FALSE)
```

```{css, echo=FALSE}
pre {
  background: #FFBB33;
  max-width: 100%;
  overflow-x: scroll;
}

.scroll-output {
  height: 60%;
  overflow-y: scroll;
}

.scroll-small {
  height: 30%;
  overflow-y: scroll;
}
   
.red{color: #ce151e;}
.green{color: #26b421;}
.blue{color: #426EF0;}
```


# Agenda

Here's the agenda for today's class: 

- Group check-ins (5 mins)

- Critical statistical questions and determining which procedure to use

- Visualizing different types of data 

- Housekeeping items and announcements (5 mins)

---
# Tuesday check-in 

- Send me a screenshot of your check-in markers on Slack

- [Fill out the group roles for today's class](https://docs.google.com/spreadsheets/d/1d34JxqXQON6MyIEjN5ugkByCeTuGTTb_ovvPfSAca_g/edit?usp=sharing) 

```{r, echo=FALSE, fig.align='center', out.height=500}
knitr::include_graphics("Figs/feelings_wheel.jpg")
```

---
## Putting it all together 
### Critical statistical questions

Thus far we've discussed one and two sample tests/CIs for proportions and means, for paired and unpaired data and the chi-square goodness-of-fit test for count data. Part of the challenge in statistical analysis is figuring out which method(s) are appropriate for any given problem. 

To help figure this out, at the beginning of every problem, make sure you understand the answers to these three questions: 

1. What is the population being studied? What is the unknown population parameter of interest? 

2. How was the sample collected? What distinguishes one observational unit from the next? 

3. What information must been collected for each individual in your sample? What are the variables of interest? Are they categorical or quantitative? 


---
## Putting it all together 
### Tests or intervals 

In statistical **hypothesis tests**, the structure of the null hypothesis is something that we can at least pretend we know. It represents the most benign assumption possible, upholds the "status quo". We structure hypotheses this way to protect against Type I errors. 
  - Type I error - incorrectly rejecting $H_0$ in favor of $H_A$
  - Type II error - incorrectly failing to reject $H_0$ 
The logic is similar (at least nominally) to that of the US judicial system. Someone is "innocent until proven guilty". 

In creating **confidence intervals**, we actually get an estimate for the *effect size* of the unknown parameter. This means that rather than merely answering a question of statistical significance, we get a range of possible numbers that the parameter could reasonable take on. This helps us determine *practical significance*, not just statistical significance. There is a relationship between the results of a two-sided hypothesis test and a confidence interval.  


---
### Potentially useful study material 

- [Definitions for statistics](http://www.swarthmore.edu/NatSci/sthornt1/Stat011/Definitions%20and%20terms%20to%20know/Definitions%20and%20terms%20-%20part%201.pdf)

- [Definitions for probability](http://www.swarthmore.edu/NatSci/sthornt1/Stat011/Definitions%20and%20terms%20to%20know/Definitions%20and%20terms%20part%202.pdf)

- [Definitions for RVs](http://www.swarthmore.edu/NatSci/sthornt1/Stat011/Definitions%20and%20terms%20to%20know/Definitions-and-terms-part-3.pdf)

- [Definitions for confidence intervals](http://www.swarthmore.edu/NatSci/sthornt1/Stat011/Definitions%20and%20terms%20to%20know/Definitions%20and%20terms%20to%20know%20part%204.pdf)

- [Definitions for hypothesis tests](http://www.swarthmore.edu/NatSci/sthornt1/Stat011/Definitions%20and%20terms%20to%20know/Definitions%20and%20terms%20to%20know-part%205.pdf)

- [Independence assumptions](http://www.swarthmore.edu/NatSci/sthornt1/Stat021/S2021/Checking Independent Data.pdf)



### Valid conclusions 


|   | Random Assignment | No Random Assignment | 
|---|--------------------|---------------------|
| **Random Sampling** | Correlation indicates causal conclusion; Can generalize to the population   | Correlation only, no causation; Can generalize to the population  |
| **No Random Sampling** | Correlation indicates causal conclusion; Cannot generalize beyond the sample  | Correlation only, no causation; Cannot generalize beyond the sample | 


Note that random assignment is only possible in experiments (vs observational studies, for example).


---
## Determine which procedure to use 

Thus far we have covered methods to statistically analyze 
  - Proportions (single proportion and difference between proportions, proportions for a categorical variable with more than two levels);
  - Means (one and two sample, paired and unpaired);
  - The relationship between two categorical variables (test for independence) or the distribution of a single categorical variable across one or more populations (goodness of fit or test for homogeneity)

## Chi-square Procedures 

  - Goodness-of-fit
  
  - Test for homogeneity 
  
  - Test for independence 

---
## Determine which procedure to use 
### Group exercise 

With your group, go through the example problems in this [worksheet](http://www.swarthmore.edu/NatSci/sthornt1/Stat021/S2021/class8-worksheet-1.pdf). You do not have to do any calculations or make any conclusions. Instead, answer the prompts to make sure you understand the type of statistical problem each question represents. 



**Group roles:**

- Recorder - Download a copy of the worksheet and share your screen with your group mates as you fill in the answers together. When there is 1 min remaining, share your answers with me via a DM on Slack. 

- Reporter - Keep track of your group's progress on the Google spreadsheet and be prepared to discuss your group's answers (or any additional questions) with the class.  

- Questioner - There may be more than one way to solve some of the questions. Make sure your group considers whether or not this is the case for each problem. 

---
## What else is there besides tests and intervals? 
## Visualizing data

We use different methods to investigate different types of variables. 
  - For a **quantitative** variable
    - Histogram
  - For a **categorical** variable 
    - Bar chart
  - For two variables 
    - **One quantitative, one categorical** - use box plots to compare the values of the quantitative variable over the different levels of the categorical variable 
    - **Both quantitative** - use a scatter plot to look for trends
    - **Both categorical** - represent the data in a two-way contingency table

---
## Visualizing data
### Group exercise

To help you practice visualizing data, follow the instructions in [this code](http://www.swarthmore.edu/NatSci/sthornt1/Stat021/S2021/class8-worksheet-2.Rmd) to produce your own plots for the `mtcars` data set. Make sure every plot is clearly labeled (both axes and the title) and displays all of the data (you may need to change the axes limits) in a helpful way (no histograms with only two bars, for example).   


**Group roles:**

- Recorder - Upload the document above to R Studio and open and share the document with your group mates. Work with your group to uncommenting and filling in the missing parts of the code. When there is 1 min remaining, share your answers with me via a DM on Slack. 

- Reporter - Keep track of your group's progress. If your group runs into any coding issues, update the Google spreadsheet to request help and I'll stop by to help you debug.   

- Questioner - Suggest different ways to visualize the data, ask what happens when different plotting parameters are changed. Make sure your group understands the different pieces of the R code generating each plot. 


---
### Planning ahead for next class and Test 1

- Complete the comprehension quiz for week 5 by Thursday morning. 

- Prepare questions for Thursday's class which will be largely review. 

  * Moodle questions 
  
  * HW Bonus Problems 
  
  * Reading data from an external source into R

- Test 1 will be released this Thursday afternoon and is due this Saturday on Gradescope.  

- Thursday's office hours are canceled. I'll be online on slack on Friday from 2-3pm and I'll be checking Slack Thursday and Friday evenings for any Test 1 questions. 

.scroll-small[
### Extra Credit Opportunity 

**Must be completed by 9:00 am EST on Thursday, the 11th**

You may use the Slack channel `#study-materials` to ask and answer general questions about the class material. I may assign $+3$ bonus points to Test 1 for anyone involved in asking or answering questions that generate an interesting discussion. 
]

